# Dockerfile.syllogi creates an image that runs syllogi specific E2E tests
# that are invoked via syllogi.sh.
# Other than the entrypoint script, the image is identical to Dockerfile
# in base e2e-tests.

FROM gcr.io/stolos-dev/e2e-tests:test-e2e-latest
COPY .output/e2e /opt/testing/e2e
RUN mkdir -p /tmp/home/user

ARG UNAME
ARG UID
ARG GID

ENV HOME /tmp/home/user
ENV USER nomos-syllogi
ENV PATH /opt/gcloud/google-cloud-sdk/bin:$PATH

ENTRYPOINT ["/opt/testing/e2e/syllogi.sh"]