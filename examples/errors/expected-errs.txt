Found issues: 21 error(s)


[1] KNV1002: Directory names MUST be unique. Rename one of these directories:

namespaces/dev/duplicate-dir
namespaces/prod/duplicate-dir


[2] KNV1003: A Namespace directory MUST NOT have subdirectories. Restructure "dev-namespace" so that it does not have subdirectory "illegal-child":

path: namespaces/dev/dev-namespace/illegal-child
name: illegal-child


[3] KNV1004: A Namespace MUST NOT use the annotation nomos.dev/namespace-selector. Remove metadata.annotations.nomos.dev/namespace-selector from:

path: namespaces/dev/dev-namespace
name: dev-namespace


[4] KNV1005: Unable to sync Resource. Enable sync for this Resource's kind.

source: cluster/not-syncable-clusterrolebinding.yaml
metadata.name: not-syncable-clusterrolebinding
group: rbac.authorization.k8s.io
version: v1
kind: ClusterRoleBinding


[5] KNV1006: Unable to sync Resource. Enable sync for this Resource's kind.

source: namespaces/prod/prod-namespace/jamal-clusterrolebinding.yaml
metadata.name: jamal-rolebinding
group: rbac.authorization.k8s.io
version: v1
kind: ClusterRoleBinding


[6] KNV1007: Resource "illegal-clusterrole" illegally declared in an Abstract Namespace directory. Move this Resource to a Namespace directory:

source: namespaces/prod/illegal-resource-kind.yaml
metadata.name: illegal-clusterrole
group: rbac.authorization.k8s.io
version: v1
kind: ClusterRole


[7] KNV1008: A directory MUST NOT contain more than one ResourceQuota Resource. Directory "namespaces/prod/prod-namespace" contains multiple ResourceQuota Resources:

source: namespaces/prod/prod-namespace/quota-1.yaml
metadata.name: pod-quota-1
group: 
version: v1
kind: ResourceQuota

source: namespaces/prod/prod-namespace/quota-2.yaml
metadata.name: pod-quota-2
group: 
version: v1
kind: ResourceQuota


[8] KNV1009: Resources MUST NOT declare metadata.namespace:

source: namespaces/prod/prod-namespace/kesim-rolebinding.yaml
metadata.name: kesim-rolebinding
group: rbac.authorization.k8s.io
version: v1
kind: RoleBinding


[9] KNV1010: Resources MUST NOT declare unsupported annotations starting with "nomos.dev". Resource has offending annotations: "nomos.dev/unsupported"

source: namespaces/prod/prod-namespace/kesim-rolebinding.yaml
metadata.name: kesim-rolebinding
group: rbac.authorization.k8s.io
version: v1
kind: RoleBinding


[10] KNV1011: Resources MUST NOT declare labels starting with "nomos.dev". Below Resource declares these offending labels: "nomos.dev/illegal-label", "nomos.dev/illegal-label-2"

source: namespaces/prod/prod-namespace/kesim-rolebinding.yaml
metadata.name: kesim-rolebinding
group: rbac.authorization.k8s.io
version: v1
kind: RoleBinding


[11] KNV1012: The NamespaceSelector Resource "sre-supported" MUST NOT have ClusterSelector annotation


[12] KNV1013: Resource "no-such-cluster-selector" MUST refer to an existing ClusterSelector, but has annotation nomos.dev/cluster-selector="nonexistent-selector" which maps to no declared ClusterSelector


[13] KNV1018: cluster/ directory MUST NOT have subdirectories.

path: cluster/illegal-cluster-subdir


[14] KNV1019: Namespaces MUST be declared in subdirectories of namespaces/. Create a subdirectory for Namespaces declared in:

source: namespaces/namespace.yaml
metadata.name: namespaces
group: 
version: v1
kind: Namespace


[15] KNV1020: A Namespace MUST declare metadata.name that matches the name of its directory.

source: namespaces/dev/dev-namespace/namespace.yaml
metadata.name: incorrect-name
group: 
version: v1
kind: Namespace

expected metadata.name: dev-namespace



[16] KNV1028: Directories MUST be a valid RFC1123 DNS label. Rename or remove directory:

path: namespaces/illegal.dir.name
name: illegal.dir.name


[17] KNV1029: Resources of the same Kind MUST have unique names in the same Namespace and their parent Abstract Namespaces:

source: namespaces/dev/alice-rolebinding.yaml
metadata.name: alice-rolebinding
group: rbac.authorization.k8s.io
version: v1
kind: RoleBinding

source: namespaces/dev/dev-namespace/alice-rolebinding-2.yaml
metadata.name: alice-rolebinding
group: rbac.authorization.k8s.io
version: v1
kind: RoleBinding


[18] KNV1029: Resources of the same Kind MUST have unique names in the same Namespace and their parent Abstract Namespaces:

source: namespaces/prod/prod-namespace/namespace-1.yaml
metadata.name: prod-namespace
group: 
version: v1
kind: Namespace

source: namespaces/prod/prod-namespace/namespace-2.yaml
metadata.name: prod-namespace
group: 
version: v1
kind: Namespace


[19] KNV1030: A directory may declare at most one Namespace Resource:

source: namespaces/prod/prod-namespace/namespace-1.yaml
metadata.name: prod-namespace
group: 
version: v1
kind: Namespace

source: namespaces/prod/prod-namespace/namespace-2.yaml
metadata.name: prod-namespace
group: 
version: v1
kind: Namespace


[20] KNV1031: Resources must declare metadata.name:

source: namespaces/prod/prod-namespace/nameless-rolebinding.yaml
metadata.name: 
group: rbac.authorization.k8s.io
version: v1
kind: RoleBinding


[21] KNV1033: Resources of the below kind MUST NOT be declared outside system/:
source: namespaces/prod/prod-namespace/illegal-sync.yaml
metadata.name: illegal-sync
group: nomos.dev
version: v1alpha1
kind: Sync

